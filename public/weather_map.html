<!DOCTYPE html>
<html>
<head>
	<title>Weather Map</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="css/weather_map.css">

</head>
<body>
	<div class="container main">
		<div class="container-fluid">
			<div id="forecast">
				<h2>3 Day Weather</h2>
	 	        <h2 id="city"></h2>
	 	        <div id ="weather"></div>
	 	    </div>
		</div>
	</div>


<script type="text/javascript">

$(document).ready(function() {
  "use strict"


  $.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
    APPID: "dc842332798134a45eea32c97e724a4a",
    lat: 29.4167,
    lon: -98.5000,
    units: "imperial",
    cnt: "3"
  }).done(function(data) {
	console.log(data);
	$('#city').html(data.city.name);
		// displayWeather(data);
	data.list.forEach(function(data) {
	displayWeather(data)
	})
});


	var displayWeather = function(data) {
		console.log(data);
		var icon = data.weather[0].icon	
		var lowTemp = "Low: "+ data.temp.min;
		var highTemp = "High: " + data.temp.max;
		var image = "<img src = 'http://openweathermap.org/img/w/" + icon + ".png'>"; 
		var humidity = "Humidity: " + data.humidity;
		var clouds = data.weather[0].description;
		var wind = "Winds: " + data.speed;
		var pressure = "Pressure: " + data.pressure;
		var displayData = "<div class='forecast'>" + lowTemp + '/' + highTemp + image + humidity + '% ' + 'Clouds: ' + clouds + ' ' + wind + ' '  + 'Mph ' + pressure + "</div>";
		$('#weather').append(displayData);
	};

});


</script>
</body>
</html>